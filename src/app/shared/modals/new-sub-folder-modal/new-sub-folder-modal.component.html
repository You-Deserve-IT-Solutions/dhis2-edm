<div
  class="w-100"
  *ngIf="{
    oneKeyOfTheNameSpaceData: oneKeyOfTheNameSpaceData$ | async
  } as params"
>
  <div class="h4">New sub-folder</div>
  <div class="loading-overlay" *ngIf="saving">
    <div class="text-center">
      <div>Saving folder...</div>
      <div class="mt-3 d-flex justify-content-center w-100">
        <mat-spinner diameter="50" strokeWidth="2"></mat-spinner>
      </div>
    </div>
  </div>
  <div class="w-100 content-form">
    <app-form
      [fields]="formFields"
      (formUpdate)="onFormUpdate($event)"
    ></app-form>
  </div>
  <div *ngIf="!isNameUniq" class="alert alert-warning" role="alert">
    Sub-folder with name {{ formData?.name?.value }} exists. Sub-folder name has
    to be unique
  </div>
  <div class="d-flex justify-content-end">
    <button mat-stroked-button (click)="onCancel($event)">Cancel</button>
    <button
      mat-flat-button
      color="primary"
      [disabled]="
        !isFormValid || !isNameUniq || !params?.oneKeyOfTheNameSpaceData
      "
      class="ml-2"
      (click)="onSave($event, params?.oneKeyOfTheNameSpaceData)"
    >
      Save
    </button>
  </div>
</div>
